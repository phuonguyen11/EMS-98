"use strict";(self.webpackChunke_learning_system=self.webpackChunke_learning_system||[]).push([[269],{9269:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var r=s(7313),a=s(3497),n=s(5281),l=s(9015),i=s(1806),d=s(7131),o=s(1113),c=s(6306),u=s(6417);var g=e=>{let{data:t,gpa:s}=e;const a=(0,r.useMemo)((()=>[{accessorFn:e=>`${e.courseName}`,id:"courseName",header:"Course Name",size:250,Cell:e=>{let{renderedCellValue:t,isExpanded:s,toggleRowExpanded:r}=e;return(0,u.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,u.jsx)("span",{children:t}),(0,u.jsx)(d.Z,{onClick:()=>r(!s),"aria-label":"expand row",size:"small",children:s?(0,u.jsx)(c.Z,{}):null})]})}},{accessorFn:e=>`${e.courseCode}`,id:"courseCode",header:"Course Code",size:150},{accessorFn:e=>`${e.credit}`,id:"credit",header:"Credit",size:100},{accessorFn:e=>`${e.average}`,id:"average",header:"Average",size:100,Cell:e=>{let{cell:t}=e;return(0,u.jsx)(i.Z,{component:"span",sx:e=>({backgroundColor:t.getValue()<5?e.palette.error.dark:t.getValue()>=5&&t.getValue()<8?e.palette.warning.dark:e.palette.success.dark,borderRadius:"0.25rem",color:"#fff",maxWidth:"9ch",p:"0.25rem"}),children:t.getValue()})}}]),[]),n=(0,r.useCallback)((e=>{let{row:t}=e;return(0,u.jsxs)(i.Z,{sx:{p:2},children:[(0,u.jsx)(o.Z,{variant:"h5",gutterBottom:!0,component:"div",style:{paddingLeft:80,textAlign:"left"},children:"Grade Details:"}),(0,u.jsxs)(o.Z,{variant:"body1",style:{textAlign:"left",display:"flex",justifyContent:"space-between"},children:[(0,u.jsx)("span",{style:{paddingLeft:80},children:"Midterm:"})," ",(0,u.jsx)("span",{style:{paddingRight:600},children:t.original.midterm})]}),(0,u.jsxs)(o.Z,{variant:"body1",style:{textAlign:"left",display:"flex",justifyContent:"space-between"},children:[(0,u.jsx)("span",{style:{paddingLeft:80},children:"Final:"})," ",(0,u.jsx)("span",{style:{paddingRight:600},children:t.original.final})]}),(0,u.jsxs)(o.Z,{variant:"body1",style:{textAlign:"left",display:"flex",justifyContent:"space-between"},children:[(0,u.jsx)("span",{style:{paddingLeft:80},children:"Average:"})," ",(0,u.jsx)("span",{style:{paddingRight:600},children:t.original.average})]})]})}),[]);return(0,u.jsxs)("div",{children:[(0,u.jsx)(l.P2,{columns:a,data:t,renderDetailPanel:n}),(0,u.jsx)(i.Z,{sx:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#f0f0f0",borderRadius:"0.25rem"},children:(0,u.jsxs)(o.Z,{variant:"h4",style:{fontWeight:"bold",textAlign:"left",color:"blue",paddingLeft:100},children:["GPA :  ",null===s||void 0===s?void 0:s.toFixed(1)]})})]})},p=s(6545),x=s(9574),h=s(2742);var f=()=>{const[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{try{const e=x.I.currentUser;if(e){const s=await(0,h.m)(e);l(s.GPA);const r=s.listCourses||{},a=Object.keys(r).map((async e=>{const t=(0,p.JU)(x.db,"courses",e),a=await(0,p.QT)(t);if(a.exists()){const t=a.data().credit,n=a.data().courseName;return{...r[e],courseCode:e,courseName:n,credit:t,gpa:s.GPA}}return{...r[e],courseCode:e,courseName:"Unknown",credit:0}})),n=await Promise.all(a);t(n)}}catch(e){console.error("Error fetching user data: ",e)}})()}),[]),console.log(e),console.log(s),(0,u.jsx)(a.Z,{title:"Student Transcript",children:e?(0,u.jsx)(g,{data:e,gpa:s}):(0,u.jsx)(n.Z,{})})}}}]);